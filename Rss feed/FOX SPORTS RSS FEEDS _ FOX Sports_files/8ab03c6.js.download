(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{1076:function(t,e,n){"use strict";n.r(e),n.d(e,"checkAnchorPositions",(function(){return Y})),n.d(e,"registerPinnedEls",(function(){return k}));var o=n(4),c=n(291);let l,r,d,f=null,h="",w=[],m=[],y=0,L="",v=null,H=null;const E=60;let O,S=!1;function Y(){l=document.getElementById("anchor-el")||document.querySelector(".fscom-footer"),l&&(r=l.getBoundingClientRect().top+window.pageYOffset)}function k(){d=document.getElementsByClassName("element-pin"),w=[],m=[];const t="mobile"===L||"tablet"===L;if(Y(),d){const e=function(){const t=v?v.clientHeight:65;return z()?0:t}();for(let i=0;i<d.length;i++){const n=d[i];w[i]=n;const o=n.getBoundingClientRect().top+(S?window.pageYOffset:0);m[i]=o-e,t&&I(n)&&(m[i]+=n.clientHeight);const c=w.some((t=>t.classList.contains("video-container")));(m[i]<=0||c&&!t)&&(m[i]=E),c&&n.classList.contains("video-container")&&A(window.pageYOffset,n)}h&&Object(o.debugConsole)("registered elements: ",m)}}function x(t){const e=w[t];return t>0||!e.classList.contains("nav-horizontal-container")?e.offsetTop-e.offsetTop:0}function B(){y=0,S=!1,k(),C()}function C(){if(w){const t=function(){const t=document.getElementsByClassName("pin-sticky-element");if(t){let e=0;return[].forEach.call(t,(t=>{(t.classList.contains("video-container")||t.classList.contains("entity-header-nonfox"))&&!t.classList.contains("video-playing")||t.classList.contains("share-button-text")||(e+=t.clientHeight)})),e}return 0}(),e=z()?E:0,n=window.pageYOffset+e;for(let e=0;e<w.length;e++){const o=w[e];if(H&&H.clientHeight-20<=o.clientHeight&&H.contains(o)){R(o);continue}let c=m[e];if(n>y)c=m[e]-t,n>c&&(o.classList.contains("video-container")&&0===n||P(o));else{n<=c-x(e)&&R(o)}T(n,e)}y=n-1}}function T(t,e){Y();const n=w[e];n.classList.contains("image-header-container")?j(n):I(n)?function(t,e){if(t+e.clientHeight+E>r){const n=e.classList.contains("entity-header-nonfox")?0:E;J(e,r-t-e.clientHeight-n,!0)}else N(e)}(t,n):n.classList.contains("video-container")?A(t,n):function(t,e,n=!1){if(t+e.clientHeight+E>r){if(l){J(e,r-t-e.clientHeight-E,n)}}else N(e)}(t,n)}function j(t){const e=document.querySelector(".share-button-text"),n=window.pageYOffset;let o=403;const c=o;window.innerHeight>1280&&(o=t.clientHeight-E);n>r-o?(J(t,r-n-c,!0),e&&e.setAttribute("style","visibility: hidden;")):(N(t),e&&e.setAttribute("style","visibility: visible;")),window.scrollY>0?t.classList.add("show-overlay"):t.classList.remove("show-overlay")}function A(t,e){const header=document.querySelector(".entity-header-nonfox");if(!header)return;const n=window.innerWidth>=1280?r-t-header.clientHeight:r-t-header.clientHeight-E;t+header.clientHeight+E>r?J(e,n,!0):N(e),window.pageYOffset>0?P(e):R(e)}function P(t){t.classList.add("pin-sticky-element")}function R(t){t.classList.remove("pin-sticky-element")}function z(){return"desktop"===L||"large"===L}function I(t){return t.classList.contains("entity-header-nonfox")||t.classList.contains("entity-header")}function J(t,e,n=!1){n&&t.classList.add("transition"),t.style.top=`${e}px`}function N(t){t.classList.remove("transition"),t.style.top=""}"undefined"!=typeof window&&(f=new URLSearchParams(document.location.search),h=f.get("pinlog"),v=document.getElementById("nav"),H=document.querySelector(".grid-main-content"),window.addEventListener("load",(()=>{L=Object(c.a)(),k(),C()})),window.addEventListener("scroll",(()=>{if(!S){C(),Y();const e=document.querySelector(".entity-header");if(e){const n=e.querySelector(".entity-logo-fav");n&&(t=n,window.scrollY>t.offsetTop+t.offsetHeight?t.classList.add("entity-logo-pinned"):t.classList.remove("entity-logo-pinned"))}const n=document.querySelector(".image-header-container");n&&j(n)}var t})),window.addEventListener("resize",(()=>{const t=Object(c.a)();L!==t&&(S=!0,clearTimeout(O),O=setTimeout(B,400),L=t)})))}}]);