!function(e){var t={};function i(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(a,s,function(t){return e[t]}.bind(null,s));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://statics.foxsports.com/static/orion/",i(i.s=472)}({472:function(e,t,i){"use strict";i.r(t),i.d(t,"CriticalVideoLoader",(function(){return f}));var a=class{constructor(){this.userAgent=window.navigator.userAgent.toLowerCase(),this.winW=window.innerWidth,this.winH=window.innerHeight,window.addEventListener("resize",()=>{this.winW=window.innerWidth,this.winH=window.innerHeight})}isElmInViewport(e){const t=e.getBoundingClientRect(),i=parseInt(t.top),a=parseInt(t.left),s=parseInt(t.bottom),n=parseInt(t.right);return t&&i>=0&&a>=0&&s<=this.winH&&n<=this.winW}find(e){this.userAgent.includes(e)}macos(){this.find("mac")}ios(){this.iphone()||this.ipod()||this.ipad()}iphone(){!this.windows()&&this.find("iphone")}ipod(){this.find("ipod")}ipad(){this.find("ipad")}android(){!this.windows()&&this.find("android")}androidPhone(){this.android()&&this.find("mobile")}androidTablet(){this.android()&&this.find("mobile")}blackberry(){this.find("blackberry")}blackberryPhone(){this.blackberry()&&this.find("tablet")}blackberryTablet(){this.blackberry()&&this.find("tablet")}windows(){this.find("windows")}windowsPhone(){this.windows()&&this.find("phone")}windowsTablet(){this.windows&&this.find("touch")&&this.windowsPhone()}mobile(){this.androidPhone()||this.iphone()||this.ipod()||this.windowsPhone()||this.blackberryPhone()}tablet(){this.ipad()||this.androidTablet()||this.windowsTablet()||this.blackberryTablet()}desktop(){!this.tablet()&&this.mobile()}};var s=class{constructor(){this.header=document.querySelector("#body-header-wrapper"),this.pinPos=this.header?this.header.clientHeight:45,this.resizeEv=void 0,this.pinCloseEl=void 0,this.pinWrapper=document.querySelector(".fs-pin-wrapper"),this.isTopPinEnabled=!0,this.isTopPinEnabled=this.pinWrapper&&this.isTopPinEnabled,this.parentEl=void 0,this.grandParentEl=void 0,this.parentElWrapper=void 0,this.elInfo=void 0,this.bodyClassList=document.body.classList,this.disableVideoPinning=document.body.classList.contains("disable-video-pinning"),this.latestKnownScrollY=0,this.ticking=!1,this.isPinned=!1,this.resetDelay=400,this.viewport=new a}startPinning(){this.disableVideoPinning||this.playerCont.hasAttribute("enable-pinning")&&this.enablePinning()}enablePinning(){this.parentEl=this.playerCont.parentElement,this.grandParentEl=this.parentEl.parentElement,this.isTopPinEnabled&&(this.parentElWrapper=this.grandParentEl.parentElement,this.grandParentEl=this.parentElWrapper.parentElement,this.elInfo=this.grandParentEl.querySelector(".fs-video-details")),this.startScroll()}startScroll(){window.addEventListener("scroll",function(e){this.requestTick()}.bind(this))}requestTick(){this.ticking||requestAnimationFrame(this.onScrollUpdate.bind(this)),this.ticking=!0}onScrollUpdate(){this.ticking=!1;const e=window.scrollY,t=(this.latestKnownScrollY,this.viewport.isElmInViewport(this.grandParentEl));t||this.isPinned||this.isFullScreen||(this.isPlaying||!this.player.paused)&&this.pin(this.parentEl),(t&&this.isPinned||this.isPinned&&this.isFullScreen)&&this.unpin(this.parentEl),this.latestKnownScrollY=e}retainSize(e){const t=e.getBoundingClientRect(),i=t.height,a=t.width;e.style.cssText="height:"+i+"px;width:"+a+"px;"}clearRetainSize(e){e.style.cssText=""}onPinClose(){this.fngPlayer?this.player.pause():this.pause(),this.unpin(this.parentEl)}createCloseButton(){const e=document.createElement("span");return e.className=this.isTopPinEnabled?"pin-top pin-close":"pin-close",e.innerHTML="&#x2715;",e.addEventListener("click",this.onPinClose.bind(this)),e}addCloseButton(){this.pinCloseEl=this.pinCloseEl||this.createCloseButton(),this.isTopPinEnabled?this.parentElWrapper.appendChild(this.pinCloseEl):this.parentEl.appendChild(this.pinCloseEl)}removeCloseButton(){this.isTopPinEnabled?this.parentElWrapper.removeChild(this.pinCloseEl):this.parentEl.removeChild(this.pinCloseEl)}pin(e){if(this.retainSize(this.grandParentEl),e.classList.remove("unpin-player"),e.classList.add("pin-player"),this.isTopPinEnabled){this.bodyClassList.add("player-pinned");const t=e.parentElement.parentElement;t.classList.add("pin-player"),t.classList.add("fade-in")}return this.hackGalleryParentZIndex(!0),this.resetSize(),this.addCloseButton(),this.isPinned=!0,e}unpin(e){if(e.classList.remove("pin-player"),this.isTopPinEnabled){const t=e.parentElement.parentElement;t.classList.remove("pin-player"),t.classList.remove("fade-in"),t.classList.add("fade-out")}else e.classList.add("unpin-player");return this.hackGalleryParentZIndex(!1),setTimeout(()=>{this.isTopPinEnabled?(!this.isPinned&&this.bodyClassList.remove("player-pinned"),e.parentElement.parentElement.classList.remove("fade-out")):e.classList.remove("unpin-player"),!this.isPinned&&this.removeCloseButton()},this.resetDelay),this.resetSize(()=>{this.clearRetainSize(this.grandParentEl)}),this.isPinned=!1,e}hackGalleryParentZIndex(e){const t=this.grandParentEl.parentElement;if(t.hasAttribute("gallery-image-wrap-id")){const i=t.getAttribute("gallery-image-wrap-id"),a=document.getElementById("gallery-image-wrap-"+i);e?a.setAttribute("style","z-index:4"):a.removeAttribute("style")}}resetSize(e){this.resizeEv=this.resizeEv?this.resizeEv:new Event("resize");const t=this.resetDelay;setTimeout(()=>{window.dispatchEvent(this.resizeEv),"function"==typeof e&&e()},t)}};const n={videoLoad:"OnLoadReleaseUrl",videoBuffer:"OnMediaBuffer",videoEnd:"OnMediaComplete",videoChapterEnd:"OnMediaEnd",videoError:"OnMediaError",playerError:"OnPlayerError",videoLoading:"OnMediaLoadStart",videoReady:"OnLoadRelease",videoPause:"OnMediaPause",videoPlay:"OnMediaPlay",videoProgress:"OnMediaPlaying",videoSeekStart:"OnSeekStart",videoSeekEnd:"OnSeekComplete",videoStart:"OnMediaStart",videoResume:"OnMediaUnpause",videoMute:"OnMute",playerReady:"OnPlayerLoaded",playerOverlayUp:"OnShowPlayOverlay",playbackStart:"OnPlaybackStart",playbackComplete:"OnPlaybackComplete",playbackInterrupted:"OnPlaybackInterrupted",playbackPaused:"OnPlaybackPaused",playbackResumed:"OnPlaybackResumed",bufferStart:"OnBufferStart",bufferEnd:"OnBufferEnd",buffering:"OnBuffering",contentStart:"OnContentStart",contentComplete:"OnContentComplete",contentPlaying:"OnContentPlaying",adStart:"OnAdStart",adComplete:"OnAdComplete",adProgress:"OnAdPlaying",adBufferStart:"OnAdBufferStart",adBufferEnd:"OnAdBufferEnd",adPodStart:"OnAdPodStart",adPodComplete:"OnAdPodComplete",adPause:"OnAdPause",adResume:"OnAdResume",nielsenDtvrTag:"OnNielsenDtvrTag",restartStart:"onRestartButtonClicked",exitEventStream:"OnExitEventStream",slatePlaying:"OnSlatePlaying",slateStart:"OnSlateStart",slateComplete:"OnSlateComplete"};const r=new class{constructor(){this.events={}}dispatchEvent(e,t){this.events.hasOwnProperty(e)&&this.events[e].callbacks.forEach(e=>{e(t)})}addEventListener(e,t){this.events.hasOwnProperty(e)||(this.events[e]={callbacks:[]}),this.events[e].callbacks.push(t)}removeEventListener(e,t){if(this.events.hasOwnProperty(e)){const i=this.events[e].indexOf(t);i>-1&&this.events[e].splice(i,1)}}onVideoStart(e){this.addEventListener(n.videoStart,e)}onVideoPause(e){this.addEventListener(n.videoPause,e)}onVideoEnd(e){this.addEventListener(n.videoEnd,e)}onVideoError(e){this.addEventListener(n.videoError,e)}onPlayerError(e){this.addEventListener(n.playerError,e)}onPlayerLoaded(e){this.addEventListener(n.playerReady,e)}onPlayerRestart(e){this.addEventListener(n.restartStart,e)}onVideoProgress(e){this.addEventListener(n.videoProgress,e)}onPlaybackStart(e){this.addEventListener(n.playbackStart,e)}onPlaybackComplete(e){this.addEventListener(n.playbackComplete,e)}onContentStart(e){this.addEventListener(n.contentStart,e)}onContentComplete(e){this.addEventListener(n.contentComplete,e)}onContentPlaying(e){this.addEventListener(n.contentPlaying,e)}onSlatePlaying(e){this.addEventListener(n.slatePlaying,e)}onExitEventStream(e){this.addEventListener(n.exitEventStream,e)}};window.FsVideoEventHandler=r;var o=r;var l=new class{constructor(){this.isLogEnabled=!1,this.isBB=!!this.bodySection&&this.bodySection.classList.contains("body-content-big-board"),this.checkLogEnabled()}log(e){this.isLogEnabled&&console.log(e)}checkLogEnabled(){this.isLogEnabled=location.href.includes("trackinglog=true")}setLinkTracking(e,t,i){if(e&&e.length&&t){"NodeList"===e.constructor.name&&(e=[...e]);for(let a=0,s=e.length;a<s;a++){const s=e[a];if(s.hasAttribute("data-link-tracked-by"))break;"parsely"===t&&s.addEventListener("click",e=>{this.ParselyTrackLink(e,i)}),s.setAttribute("data-link-tracked-by",t)}}}ParselyTrackLink(e,t){e.preventDefault&&e.preventDefault();const i=e.currentTarget||e.target,a=i.getAttribute("href"),s=i.getAttribute("data-url-to-track");if("undefined"!=typeof PARSELY&&"object"==typeof PARSELY.beacon&&"function"==typeof PARSELY.beacon.trackPageView){const e={url:this.addTrackingQuery(t,s||a),js:1};PARSELY.beacon.trackPageView(e)}window.open(a,i.getAttribute("target")||"_self")}addTrackingQuery(e,t){for(const i in e){const a=e[i];a&&(t=this.updateQueryStringParam(t,i,a))}return t}updateQueryStringParam(e,t,i){const a=new RegExp("([?&])"+t+"=.*?(&|#|$)","i");if(e.match(a))return e.replace(a,"$1"+t+"="+i+"$2");{let a="";e.includes("#")&&(a=e.replace(/.*#/,"#"),e=e.replace(/#.*/,""));const s=e.includes("?")?"&":"?";return e+s+t+"="+i+a}}replaceSpacesWithDash(e){return e.replace(/ /g,"-")}getTrackingMeta(e){let t="",i="",a="",s="",n="";return void 0!==e.videoinfo.thumbnail&&(i=e.videoinfo.thumbnail),void 0!==e.videoinfo.title&&(t=e.videoinfo.title),void 0!==e.videoinfo.primary&&(a=e.videoinfo.primary),void 0!==e.videoinfo.id&&(s=e.videoinfo.id),void 0!==e.url&&(n=e.url),{title:t,image_url:i,section:a,id:s,url:n}}sendPlay(e,t,i){if(!e){const e=this.getTrackingMeta(t);this.sendTracking("play",e,i)}return this}sendPause(e,t,i){if(this.isPlaying=!1,this.isPaused=!0,!e){const e=this.getTrackingMeta(t);this.sendTracking("pause",e,i)}return this}sendTracking(e,t,i){const a="undefined"!=typeof PARSELY&&"object"==typeof PARSELY.video;if(void 0!==t&&"undefined"!==t.id&&a){let a=""!==t.url?t.url:location.origin+location.pathname;t.section=i.utm_content||i.utm_section,a=this.addTrackingQuery(i,a),this.log(`\n                    VIDEO TRACKING: sending parsely data\n                    type: ${e}\n                    title: ${t.title}\n                    thumbnail: ${t.image_url}\n                    vid: ${t.id}\n                    urlOverride: ${a}\n                    config: ${JSON.stringify(t)} \n            `);try{"play"===e?PARSELY.video.trackPlay(t.id,t,a):"pause"===e?PARSELY.video.trackPause(t.id,t,a):console.log("Tracking Type Not Supported",e)}catch(e){console.log("Error sending tracking info: ",e)}}}formatStringAsSlug(e){return e.replace(/[^A-Z0-9]+/gi,"-").toLowerCase()}isTrackable(e,t){return""!==e&&t.substr(t.lastIndexOf("/")+1)!==e}getUtmObj(e){const t={};for(const i in e)switch(i){case"campaign":case"section":case"source":case"medium":case"content":case"term":t["utm_"+i]=e[i]}return t.utm_campaign=t.utm_campaign||"video_playback_location",void 0===t.utm_medium&&(void 0!==this.isBB&&(this.isSectionFront=document.body.classList.contains("single-fox_sectionfront"),this.isMediaHub=document.body.classList.contains("single-fox_media_hub"),this.isBB=!!this.bodySection&&this.bodySection.classList.contains("body-content-big-board")),t.utm_medium=this.isBB?"bb_video_player":"video_player"),t}getUtmParams(e){const t=e.split(":");return{site:t[0]||"",section:t[1]||"",source:t[2]||"",term:t[3]||""}}getEmbedUtmParams(e,t){return this.getUtmObj({medium:e?"amp_video_player":"embed_video_player",source:"embed-video-page",content:t,term:""})}sendPageViewTracking(e){const t=e.data.vid;if(this.isTrackable(t,e.data.url)&&!e.playedVideos.has(t)){if("undefined"!=typeof PARSELY&&"object"==typeof PARSELY.beacon&&"function"==typeof PARSELY.beacon.trackPageView){e.utmObj.utm_content=e.utmObj.utm_content||e.data.categoryName;const t={url:this.addTrackingQuery(e.utmObj,e.data.url),urlref:location.href,js:1};window.utmProdTest={utmObj:e.utmObj,trackingObj:t},PARSELY.beacon.trackPageView(t)}e.playedVideos.add(t)}}};function d(e,t){const i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null==i?"":i[1]}function h(e){return"number"==typeof e?e:e?e.split(":").reverse().map((e,t)=>+e*60**t).reduce((e,t)=>e+t,0):0}function c(e){let t="lfvs",i="alllo0+standard",a="alllo00+unique";if(e.isClip&&(t="sfvs",i="allsh0+standard",a="allsh00+unique"),"function"==typeof window.gtag){const s=e.trackingData,n=e.videoContentLength;p("allvs","allvi0+standard",n,s),p("allvs","allvi00+unique",n,s),p(t,i,n,s),p(t,a,n,s)}}function p(e,t,i,a){const s={allow_custom_scripts:!0,u2:location.origin,send_to:`DC-8763171/${e}/${t}`},n={livestream:"u12",program:"u10",video_content_type:"u11",video_content_length_format:"u13",pod_id:"u14",video_network:"u8",video_sports_type:"u9",sid:"u15"};Object.keys(n).forEach(e=>{const t=n[e],i=a[e];void 0!==i&&(s[t]=i+"")}),i&&(s.u6=i),window.gtag("event","conversion",s)}var u=class extends s{constructor(e,t){super(),this.fngPlayer=e.default,this.data=t,this.elemId=t.elemId,this.playerCont=document.getElementById(this.elemId),this.playerParentEl=this.playerCont.parentElement,this.multiple=t.multiple||!1,this.player=void 0,this.enableLogs=location.href.includes("logs=true"),this.auth=t.auth,this.trackingVideoData={},this.trackingVideoDataMainContent={},this.triggeredEvents={},this.imageFitSize=t.imageFitSize||null,this.isContinuous=!1,this.loadedPlayers=new Set,this.isFloodlightTrackingAllowed=!1,this.isWatchPage=document.querySelector(".watch-page"),this.segmentAnalytics=window.SegmentAnalytics,this.deviceId=t.deviceId||this.segmentAnalytics?this.segmentAnalytics.getUUID():"",this.autoplay=!1!==t.autoplay||t.autoplay;const i=!1!==t.focusOnLoad||t.focusOnLoad;if(this.mode=t.isLiveNow?"live":"vod",this.videoId=t.id||t.stationID,this.isBonusFeed=this.isBonusFeedVideo(),this.isMainFeed=this.isMainEventVideo(),this.isLiveResume=!1,t.isLiveNow&&t.stationID&&(this.videoId=t.stationID+"?epgListingId="+t.id),this.isClip="clip"===t.videoType,this.isClip){if(this.videoId=this.data.vid||this.data.id,this.pauseOtherPlayers=this.pauseOtherPlayers.bind(this),this.data.durationInSeconds=h(this.data.durationInSeconds),this.playedVideos=new Set,this.segmentAnalytics&&(this.pageMeta=this.segmentAnalytics.metaEl),this.data.embed)this.utmObj=l.getEmbedUtmParams(!1,this.data.sportTag);else if(void 0!==this.data.utm)this.utmObj=l.getUtmObj(this.data.utm);else{const e=this.data.pageName;e&&(this.pageMeta&&(this.data.pageName=e+":"+this.pageMeta.page_type+(this.data.postLocation?":"+this.data.postLocation:"")),this.utmObj=l.getUtmObj(l.getUtmParams(this.data.pageName)))}this.utmObj&&(this.utmObj.utm_medium="jwplayer_"+this.utmObj.utm_medium),this.enablePlaylist=void 0===this.data.enablePlaylist||this.data.enablePlaylist,this.playlist={current:this.data.url,previous:"",queue:[],currentIndex:0,queueCompleted:!1},this.setupFreewheel(),this.setupMux(),this.playlistLimit=25,this.assetInfo=this.overrideData(this.data),this.pubDate=t.pubDate,this.playVideo=this.playVideo.bind(this),this.data=this.assetInfo}this.image=this.isClip?this.data.image:this.data.imageUrl,this.image&&this.imageFitSize&&(this.image.includes("fit=")?this.image=this.image.replace(/(fit=).*?(&|$)/,"$1"+this.imageFitSize+"$2"):this.image+=(this.image.includes("?")?"&fit=":"?fit=")+this.imageFitSize),this.image=this.image||"https://b.fssta.com/uploads/2016/12/default_image.png";const a=this.getPlayerMuteState(),s={},r={};t.watch?s.watch=t.watch:r.mediaInfo=this.data,this.playerOptions={auth:{...this.auth},data:{player:{}},autoplay:this.autoplay,container:t.container,id:this.elemId,image:this.image,videoID:this.videoId,...r,...s,params:this.getParamsObject(),width:"100%",height:"100%",mode:this.mode,restart:!!t.isRestart,focusOnLoad:i,mute:a,onPlayerLoadComplete:e=>{performance.mark("fs-jwplayer-onplayerloadedcomplete"),this.loadedPlayers.has(this.elemId)||(o.dispatchEvent(n.playerReady,{e:e,player:this.player,playerData:this.data,fngPlayer:this}),this.loadedPlayers.add(this.elemId));const t=document.querySelector(`#${this.elemId} .volumeContainer`);t&&t.addEventListener("click",e=>{this.handleMuteState(this.elemId)}),this.log("[reference] onPlayerLoadedComplete: ",e)},onReady:e=>{performance.mark("fs-jwplayer-onready"),this.trackingVideoData=this.setVideoProps(this.data,e),this.trackingVideoDataMainContent=this.setMainContentProps(this,e),this.log("[reference] onReady: ",e)},onFullScreen:e=>{performance.mark("fs-jwplayer-onfullscreen"),this.isFullScreen=e.fullscreen,this.isClip&&(this.isFullScreen?this.playerParentEl.classList.add("full-screen"):this.playerParentEl.classList.remove("full-screen")),this.log("[reference] onFullScreen: ",e)},onPlayerError:e=>{performance.mark("fs-jwplayer-onplayererror"),o.dispatchEvent(n.playerError,{e:e,player:this}),this.log("[reference] onPlayerError: ",e)},onPlay:e=>{performance.mark("fs-jwplayer-onplay"),this.sendPlay(),this.log("[reference] onPlay: ",e)},onPause:e=>{performance.mark("fs-jwplayer-onpause"),this.trackVideoEvent(n.playbackPaused,this,e),this.sendPause(),this.log("[reference] onPause: ",e),this.isLiveResume=this.data.isLiveNow},onResume:e=>{this.trackVideoEvent(n.playbackResumed,this,e),this.log("[reference] onResume: ",e)},onMediaStart:e=>{performance.mark("fs-jwplayer-onmediastart"),this.isClip?(this.pauseOtherPlayers(),this.utmObj&&l.sendPageViewTracking(this)):(this.reqDarTag(),this.handleMuteState()),this.log("[reference] onMediaStart: ",e)},onMediaPlaying:e=>{performance.mark("fs-jwplayer-onmediaplaying")},onMediaComplete:e=>{performance.mark("fs-jwplayer-onmediacomplete"),this.isClip&&this.playNextVideo(),o.dispatchEvent(n.videoEnd,{e:e,player:this}),this.log("[reference] onMediaComplete: ",e)},onMediaError:e=>{performance.mark("fs-jwplayer-onmediaerror"),this.trackVideoEvent(n.videoError,this,e),o.dispatchEvent(n.videoError,{e:e,player:this}),this.log("[reference] onMediaError: ",e)},onSlateStart:e=>{performance.mark("fs-jwplayer-onslatestart"),o.dispatchEvent(n.slateStart,{e:e,player:this}),this.trackVideoEvent(n.slateStart,this,e),this.log("[reference] onSlateStart: ",e)},onSlatePlaying:e=>{const t=Math.floor(e.trackingData.slateSecondsViewed/10);this.slatePrev=this.slatePrev||0,e.trackingData.slateSecondsViewed&&e.trackingData.slateSecondsViewed>0&&this.setSecondsViewed(e.trackingData.slateSecondsViewed),0===t&&this.slateCallOnIntervalFlag>0?this.slateCallOnIntervalFlag=0:t>this.slateCallOnIntervalFlag&&(this.slateCallOnIntervalFlag=t,performance.mark("fs-jwplayer-onslateplaying"),this.trackVideoEvent(n.slatePlaying,this,e),this.log("[reference] onSlatePlaying: ",e))},onSlateComplete:e=>{performance.mark("fs-jwplayer-onslatecomplete"),this.trackVideoEvent(n.slateComplete,this,e),this.log("[reference] onSlateComplete: ",e)},onAdStart:e=>{performance.mark("fs-jwplayer-onadstart"),this.isClip&&this.pauseOtherPlayers(),this.trackVideoEvent(n.adStart,this,e),this.log("[reference] onAdStart: ",e)},onAdPlaying:e=>{performance.mark("fs-jwplayer-onadplaying"),this.trackVideoEvent(n.adProgress,this,e),this.log("[reference] onAdPlaying: ",e)},onAdComplete:e=>{performance.mark("fs-jwplayer-onadcomplete"),this.trackVideoEvent(n.adComplete,this,e),this.log("[reference] onAdComplete: ",e)},onAdBufferStart:e=>{this.trackVideoEvent(n.adBufferStart,this,e),this.log("[reference] onAdBufferStart: ",e)},onAdBufferEnd:e=>{this.trackVideoEvent(n.adBufferEnd,this,e),this.log("[reference] onAdBufferEnd: ",e)},onAdPause:e=>{this.trackVideoEvent(n.adPause,this,e),this.log("[reference] onAdBufferEnd: ",e)},onAdResume:e=>{this.trackVideoEvent(n.adResume,this,e)},onAdPodStart:e=>{this.trackVideoEvent(n.adPodStart,this,e),this.log("[reference] onAdPodStart: ",e)},onAdPodComplete:e=>{this.trackVideoEvent(n.adPodComplete,this,e),this.log("[reference] onAdPodComplete: ",e)},onBufferStart:e=>{this.trackVideoEvent(n.bufferStart,this,e),this.log("[reference] onBufferStart: ",e)},onBuffering:e=>{this.log("[reference] onBuffering: ",e)},onBufferEnd:e=>{this.trackVideoEvent(n.bufferEnd,this,e),this.log("[reference] onBufferEnd: ",e),this.isLiveResume&&(this.trackVideoEvent(n.playbackResumed,this,e),this.log("[reference] onResume: ",e),this.isLiveResume=!1)},onSeekStart:e=>{this.trackVideoEvent(n.videoSeekStart,this,e),this.log("[reference] onSeekStart: ",e)},onSeekComplete:e=>{this.trackVideoEvent(n.videoSeekEnd,this,e),this.log("[reference] onSeekComplete: ",e)},onPlaybackStart:e=>{this.processTriggeredEvent(n.playbackStart),this.trackingVideoDataMainContent=this.setMainContentProps(this,e),this.trackVideoEvent(n.playbackStart,this,e),this.isFloodlightTrackingAllowed=!0,this.isLiveResume=!1,this.log("[reference] onPlaybackStart: ",e)},onPlaybackComplete:e=>{this.processTriggeredEvent(n.playbackComplete),this.trackVideoEvent(n.playbackComplete,this,e),this.log("[reference] onPlaybackComplete: ",e)},onPlaybackInterrupted:e=>{this.trackVideoEvent(n.playbackInterrupted,this,e),this.log("[reference] onPlaybackInterrupted: ",e)},onContentStart:e=>{e.secondsViewed&&e.secondsViewed>0&&this.setSecondsViewed(e.secondsViewed),this.trackingVideoDataMainContent=this.setMainContentProps(this,e),o.dispatchEvent(n.contentStart,{e:e,player:this}),this.trackVideoEvent(n.contentStart,this,e),this.isFloodlightTrackingAllowed&&(!function(e){if("function"!=typeof window.fbq)return;const t="2492427060801049";window.fbq("trackSingleCustom",t,"All Video Starts"),window.fbq("trackSingleCustom",t,(e.isClip?"Short":"Long")+"-Form Video Starts")}({mode:this.mode,isClip:this.isClip}),c(this.getGTMTProps(e)),this.isFloodlightTrackingAllowed=!1),this.log("[reference] onContentStart: ",e)},onContentComplete:e=>{e.secondsViewed&&e.secondsViewed>0&&this.setSecondsViewed(e.secondsViewed),this.trackingVideoDataMainContent=this.setMainContentProps(this,e),this.trackVideoEvent(n.contentComplete,this,e),this.log("[reference] onContentComplete: ",e)},onContentPlaying:e=>{this.trackingVideoDataMainContent=this.setMainContentProps(this,e),this.callOnIntervalFlag=this.callOnIntervalFlag||0,this.prev=this.prev||0;const t=Math.floor(e.secondsViewed/10),i=Math.floor(e.secondsViewed);if(e.secondsViewed&&e.secondsViewed>0&&this.setSecondsViewed(e.secondsViewed),0==t&&this.callOnIntervalFlag>0?this.callOnIntervalFlag=0:t>this.callOnIntervalFlag&&(this.callOnIntervalFlag=t,this.trackVideoEvent(n.contentPlaying,this,e),this.log("[reference] onContentPlaying: ",e)),0==i&&this.prev>0)this.prev=0;else if(i>this.prev&&(this.prev=i,e.trackingData&&e.trackingData.video)){window._segHBPlayheads||(window._segHBPlayheads={});const t=this.trackingVideoData.session_id;window._segHBPlayheads[t]=e.trackingData.video.position}},onChromecastStart:e=>{c(this.getGTMTProps(e)),this.log("[reference] onChromecastStart: ",e)},onChromecastComplete:e=>{c(this.getGTMTProps(e)),this.log("[reference] onChromecastComplete: ",e)},onNielsenDtvrTag:e=>{this.trackVideoEvent(n.nielsenDtvrTag,this,e),this.log("[reference] onNielsenDtvrTag: ",e)},onRestartButtonClicked:e=>{o.dispatchEvent(n.restartStart,{e:e,player:this}),this.log("[reference] onRestartButtonClicked: ",e)},onMute:e=>{this.log("[reference] onMute: ",e)},onExitEventStream:e=>{o.dispatchEvent(n.exitEventStream,{e:e,player:this}),this.log("[reference] onExitEventStream: ",e)}},this.loadPlayer(),!this.viewport.iphone()&&this.startPinning()}getGTMTProps(e){let t={...this.trackingVideoData};return e.trackingData&&(t={...t,...e.trackingData.content,...e.trackingData.playback,...e.trackingData.video,sid:this.player.options.releaseInfo.sid}),{isClip:this.isClip,videoContentLength:this.isClip?"short-form":"long-form",trackingData:t}}getParamsObject(){const e={},t=this.getDoNotSellCookie(),i=this.getCookie("DEBUG_PANEL_AD_DEBUG"),a=this.getCookie("DEBUG_PANEL_AD_SITE_SECTION");return(t||i||a)&&(e.ads={privacyParameter:t,debugParameter:i,siteSection:a}),e.ads.publisherId=this.deviceId,e}getDoNotSellCookie(){const e=document.cookie.match(new RegExp("(?:^|; )us_privacy=([^;]*)"));return e?e[1]:null}overrideData(e){let t=e.url;if(!t)return void this.log("Unable to find a url property");const i=this.deviceId?"vcid2="+this.deviceId:"";if(this.isClip)return t=function(e){if(e&&e.includes("mbr=true")){return"https://link.theplatform.com/s/BKQ29B/"+e.match(/BKQ29B\/(.*?)\?/)[1]+"?formats=m3u"}return e}(t)+"&"+this.getFreewheelProfileIdParam(),t.includes("sitesection")||t.includes("vcid2")||(e.url=`${t}&sitesection=${this.data.siteSection}&${i}`),e;const a=t.includes("?")?"&":"?";return e.url=`${t}${i?a+i:""}`,e}playVideo(e,t=!0){const i=this.data.siteSection;this.data=e.videoConfig||e,this.data.siteSection=i,this.data.title=e.title,this.player.options.videoID=this.data.id,this.setupMux(),this.resetMediaInfo(e),t?this.player.playRelease():this.player.loadRelease()}playNextVideo(){if(0===this.playlist.queue.length)return this.player.setConfig({autoplay:!1}),void this.player.loadRelease();let e=this.playlist.queue[this.playlist.currentIndex];this.playlist.previous=this.data.url;const t=this.playlist.currentIndex<this.playlist.queue.length;e=t?e:this.data,t?(this.playlist.current=this.data.url,this.playlist.currentIndex+=1):(this.playlist.queueCompleted=!0,this.playlist.currentIndex=0),this.playVideo(e,t)}resetMediaInfo(e){e=e.videoConfig||e,this.assetInfo=e,this.assetInfo.durationInSeconds=h(this.data.durationInSeconds),this.assetInfo=this.overrideData(this.assetInfo),this.player.setConfig({mediaInfo:this.assetInfo})}loadPlayer(){this.fngPlayer.configPlayer(()=>{this.fngPlayer.load(this.playerOptions,function(e){performance.mark("fs-jwplayer-loadplayer"),this.player=e;const t=window.utag;t&&(t.data.platform_version="fscom web|v"+this.player.version+` (${window.utag_data.build_version})`)}.bind(this))})}reqDarTag(){if("clip"===this.data.videoType)return;const e=`https://secure-gl.imrworldwide.com/cgi-bin/m?ca=nlsn154357\n            &cr=creative&ce=fox&pc=${this.data.sportTag?this.data.sportTag:"studio_show"}&ci=nlsnci388&am=4&at=view&rt=banner&st=image&c9=devid,\n            &c13=asid,P5CFA3B51-3361-481F-B75D-D119A71FF616&r=${Date.now()}`;fetch(e)}getCookie(e){return(document.cookie.split("; ").find(t=>t.includes(e+"="))||"").split("=")[1]||null}getUrlParams(){const e=d(location.search,"videourl");return{releaseURL:decodeURIComponent(e)}}pauseOtherPlayers(){let e=[];try{e=this.getAllPlayers()}catch(e){this.log("VIDEO: error - ",e)}e.length>0&&e.forEach(e=>{e.isPinned&&e.unpin(e.parentEl),e.player.pause()})}getMetadata(){return{title:this.data.title,image_url:this.data.thumbnail,section:this.data.categoryName,id:this.data.vid,url:this.data.url}}sendPlay(){this.isClip&&(this.pauseOtherPlayers(),this.utmObj&&l.sendTracking("play",this.getMetadata(),this.utmObj))}sendPause(){this.isClip&&this.utmObj&&l.sendTracking("pause",this.getMetadata(),this.utmObj)}log(){this.enableLogs&&console.log.apply(console,arguments)}trackVideoEvent(e,t,i){this.segmentAnalytics&&this.segmentAnalytics.trackVideoEvent(e,t,i)}setSecondsViewed(e){this.segmentAnalytics&&this.segmentAnalytics.setSecondsViewed(e)}setVideoProps(e,t){return this.segmentAnalytics?this.segmentAnalytics.setVideoProps(e,t):{}}setMainContentProps(e,t){return this.segmentAnalytics?this.segmentAnalytics.setMainContentProps(e,t):{}}processTriggeredEvent(e){this.triggeredEvents[e]?this.triggeredEvents[e]++:this.triggeredEvents[e]=1,this.setIsContinuous(e),window.fngPlayers.length>1&&this.isWatchPage&&(this.isContinuous=!0)}setIsContinuous(e){this.isContinuous||[n.playbackStart,n.playbackComplete].includes(e)&&e===n.playbackStart&&this.triggeredEvents[n.playbackComplete]&&(this.isContinuous=!0)}setupFreewheel(){if(!this.isClip||!this.data.trackingData||!this.data.trackingData.properties)return;const e=(this.pageMeta&&"home"===this.pageMeta.category?"home":"video")+"page",t=`fsapp/${this.getFreewheelDevice()}/vod/${e}`;this.data.trackingData.properties.freewheelSiteSection=this.data.siteSection=t}getFreewheelProfileIdParam(){return"extra=%26ad.prof%3D516429%3AUplynk_FOXSports_"+this.getFreewheelDevice()}getFreewheelDevice(){let e="webdesktop";return this.viewport.desktop()||(e=this.viewport.mobile()?"webmobilehandheld":"webmobiletablet"),e}setupMux(){if(this.isClip&&this.data.trackingData&&this.data.trackingData.properties&&(this.data.trackingData.properties.mux_video_title=this.data.title||this.data.seriesName||"",this.data.trackingData.properties.mux_video_stream_type="vod",this.data.trackingData.properties.mux_player_name="foxsports_fsapp_web_en-US",this.data.trackingData.properties.mux_viewer_user_id="",this.data.trackingData.properties.mux_video_series="",this.data.trackingData.properties.mux_experiment_name="",this.data.trackingData.properties.mux_video_cdn="edgecast",this.data.trackingData.properties.mux_sub_property_id="vdms",this.data.trackingData.properties.CDN="EDGECAST",!this.data.trackingData.properties.mux_viewer_user_id&&this.segmentAnalytics)){const e=this.segmentAnalytics.getProfileData();this.data.trackingData.properties.mux_viewer_user_id=e.dcg_profile_id||""}}getPlayerMuteState(){if(this.data.isMuted)return this.data.isMuted;const e=this.getMainLivePlayer();if(e){return this.data.eventShowType&&4===this.data.eventShowType&&!e.player.muted}return!1}isMainEventVideo(){return 1===this.data.eventShowType}isBonusFeedVideo(){return this.data.eventShowType&&4===this.data.eventShowType}getMainLivePlayer(){return window.fngPlayers.find(e=>e.isMainFeed)}getAllPlayers(e){return window.fngPlayers.filter(t=>t.elemId!==(e||this.elemId))}handleMuteState(e){window.lastKnowPlayerId||(window.lastKnowPlayerId=this.elemId),e&&(window.lastKnowPlayerId=e);this.getAllPlayers(window.lastKnowPlayerId).forEach(e=>{e.player.muted||e.player.mute()})}};function g(e){let t=e;if(!m(e)){const i=window.fsSettings;if(!i)return Promise.reject(null);t=`${i.dpp.apiPath}vodplayer/sportsclip/${e}`}let i={};return window.fsSettings&&window.fsSettings.dpp&&(i={"x-api-key":fsSettings.dpp.apiKey}),fetch(t,{headers:i}).then(e=>e.json())}const m=e=>{try{return new URL(e),!0}catch(e){return!1}};class y{constructor(){this.playerTagSelector=".deltaPlayer[data-video-id], .deltaPlayer[data-psu]:not([id])",this.incrnum=0,window.fngPlayers||(window.fngPlayers=[]),this.segmentAnalytics=window.SegmentAnalytics,this.loadVideos=this.loadVideos.bind(this),this.loadScript=this.loadScript.bind(this),this.loadEmbedPlayer=this.loadEmbedPlayer.bind(this),this.loadPageVideos=this.loadPageVideos.bind(this)}isVideoDataAutoplay(e){return e&&e.autoplay}loadPageVideos(){null!==document.querySelector(this.playerTagSelector)&&this.loadScript().then(e=>{this.loadVideos(e,null,!0)})}getVideoElementData(e){const t={},i=++this.incrnum,a=Math.floor(100*Math.random().toFixed(2));if(e instanceof Element){const s=+i+a.toString(),n=e.getAttribute("data-video-id"),r=e.getAttribute("data-psu"),o=e.getAttribute("data-post-location"),l=e.getAttribute("data-autoplay");n&&e.id||(e.id="Video"+s,t.elemId=e.id,t.vid=n,t.postLocation=o,t.psu=r,l&&(t.autoplay="true"===l)),e.parentElement.id="video-container-"+s,t.container=e.parentElement.id}return t}getRandomVideoId(e){const t=++this.incrnum,i=Math.floor(100*Math.random().toFixed(2));if(e instanceof Element){const a=+t+i.toString();e.id||(e.id="Video"+t+i.toString()),e.parentElement.id="video-container-"+a}return e.id}getVideoElementsData(){return[].slice.call(document.querySelectorAll(this.playerTagSelector)).map(this.getVideoElementData.bind(this))}ArrayContainsVideo(e,t){return e.includes(t)}loadPlayer(e,t,i){i&&(i.elemId=this.getRandomVideoId(t),i.container=t.parentElement.id,window.fngPlayers||(window.fngPlayers=[]),this.ArrayContainsVideo(window.fngPlayers,i.elemId)||(i.auth||!this.segmentAnalytics?this.initPlayer(e,i):this.segmentAnalytics&&this.segmentAnalytics.getAuthData().then(t=>{i.auth=t,this.initPlayer(e,i)})))}async loadEmbedPlayer(){const e=location.search;let t=d(e,"videoid");const i=d(e,"videourl"),a=d(e,"psu");i&&(t=function(e){if(!e)return;return(e=decodeURIComponent(e)).match(/BKQ29B\/(.*?)\?/)[1]||null}(i)),a&&(t=a);const s=await g(t),n=window.FNGPlayer;if(s&&n){const e=s.data||s;e.elemId="player",e.embed=!0,e.enablePlaylist=!1,this.initPlayer(n,e,!1)}}loadVideos(e,t,i=!1){const a=this,s=t||a.getVideoElementsData();s.length>0&&s.map(async t=>{if(!a.ArrayContainsVideo(window.fngPlayers,t.elemId)){const s=t.psu||t.vid;let n=await g(s);n=n.data||n;const r={...n,...t};a.segmentAnalytics?a.segmentAnalytics.getAuthData().then(t=>{r.auth=t,a.initPlayer(e,r,i)}):a.initPlayer(e,r,i)}})}initPlayer(e,t,i=!1){t.sendPageView=i;const a=new u(e,t);window.fngPlayers.push(a)}loadScript(){return new Promise((e,t)=>{if("function"==typeof FNGPlayer)e(FNGPlayer);else{const i=document.createElement("script"),a=document.getElementsByTagName("script")[0];i.async=!1,i.src=(()=>{const e=document.querySelector('[fs-prop="video"]');let t=e&&e.getAttribute("script");return null===t&&(t="//dev.player.fox.com/v3/sports.js"),window.location.search.includes("debugVideoPlayer")&&(t.includes("?")?t+="&debug=all":t+="?debug=all"),t})(window.location),i.onload=function(){if("function"==typeof FDM_Player)e(FDM_Player);else{if("function"!=typeof FNGPlayer.default)throw new TypeError("Failed to load player script");e(FNGPlayer)}i.onload=i.onreadystatechange=void 0},i.onerror=()=>{t()},i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||i.onload()},a.parentNode.insertBefore(i,a)}})}}window.criticalVideoLoader=new y;var f=y}});
//# sourceMappingURL=video-loader.js.map