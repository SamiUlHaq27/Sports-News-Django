(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1743:function(e,t,n){"use strict";n.r(t);var l=n(70),o=n(71),r=(n(218),n(8),function(){function e(){Object(l.a)(this,e),this.loader=null,this.winW=null,this.winH=null,this.latestKnownScrollY=0,this.ticking=!1,this.vids=null,this.initLazyload()}return Object(o.a)(e,[{key:"initLazyload",value:function(){var e=this;this.winW=window.innerWidth,this.winH=window.innerHeight,this.vids=document.getElementsByClassName("video-player-container"),this.addClickListeners(this.vids),this.loadVideos(this.vids),this.startScroll(),window.addEventListener("resize",(function(){e.winW=window.innerWidth,e.winH=window.innerHeight}))}},{key:"initVideoLoader",value:function(){this.loader=this.loader||window.criticalVideoLoader,this.loader&&this.loader.loadPageVideos()}},{key:"loadVideoPlayer",value:function(e){var t=e.querySelector(".fs-video-player"),n=e.querySelector(".fs-player"),l=e.querySelector(".fs-player-wrapper"),link=e.querySelector("a");if(t&&!t.classList.contains("loaded")&&t&&!t.classList.contains("deltaPlayer")){if(t.classList.add("deltaPlayer"),link&&n)n.style.height=link.clientHeight+"px",n.style.width=link.clientWidth+"px","true"===t.getAttribute("data-autoplay")?link.style.display="none":l.style.display="none";this.initVideoLoader(),t.classList.add("loaded")}}},{key:"isElmInViewport",value:function(e){var rect=e.getBoundingClientRect(),t=parseInt(rect.top),n=parseInt(rect.left),l=parseInt(rect.bottom),o=parseInt(rect.right),r=2*e.clientHeight;return rect&&t+r>=0&&n>=0&&l-r<=this.winH&&o<=this.winW}},{key:"startScroll",value:function(){var e=this;window.addEventListener("scroll",(function(){e.requestTick()}))}},{key:"requestTick",value:function(){this.ticking||requestAnimationFrame(this.onScrollUpdate.bind(this)),this.ticking=!0}},{key:"onScrollUpdate",value:function(){this.ticking=!1;var e=window.scrollY;this.loadVideos(this.vids),this.latestKnownScrollY=e}},{key:"togglePlayer",value:function(e,t){t.stopPropagation(),t.preventDefault();var link=e.querySelector("a.video"),n=e.querySelector(".fs-player-wrapper"),l=e.querySelector(".fs-video-player");if(link&&l&&!link.classList.contains("loaded")){link.style.display="none",link.classList.add("loaded"),n.style.display="block";var o=l.getAttribute("id");window.fngPlayers.find((function(e){return e.elemId===o})).player.play()}}},{key:"addClickListeners",value:function(e){if(e){var t=e.length;if(t>0)for(var i=0;i<t;i++)e[i].addEventListener("click",this.togglePlayer.bind(this,e[i]))}}},{key:"loadVideos",value:function(e){if(e){var t=e.length;if(t>0)for(var i=0;i<t;i++){var n=e[i];this.isElmInViewport(n)&&this.loadVideoPlayer(n)}}}}]),e}());window.LazyloadVideo=new r,t.default=r}}]);